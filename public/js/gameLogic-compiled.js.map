{"version":3,"sources":["gameLogic.js"],"names":[],"mappings":"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","file":"gameLogic-compiled.js","sourcesContent":["'use strict';\n\n(function ($, blue_apron, window, document) {\n  blue_apron.gameLogic = blue_apron.gameLogic || function () {\n    return {\n      interval: undefined,\n      points: undefined,\n      timer: undefined,\n      startButton: undefined,\n      resetButton: undefined,\n      recipesLeft: undefined,\n      onMatch: function onMatch(event, correct) {\n        var $imgParentDiv = $(event.target.parentNode);\n        var $dragElement = $(blue_apron.dragNdrop.dragElement);\n        var $dottedDiv = $dragElement.parent();\n\n        $dottedDiv.height($dragElement.height());\n        $dottedDiv.width($dragElement.width());\n        $dottedDiv.css('padding', '.86em');\n\n        $dragElement.addClass('answer');\n        $dragElement.attr('draggable', false);\n\n        $imgParentDiv.append($dragElement);\n        $imgParentDiv.append(blue_apron.data_parser.buildCheckOrX(correct));\n\n        blue_apron.gameLogic.recipesLeft = blue_apron.gameLogic.recipesLeft - 1;\n        blue_apron.dragNdrop.dragElement = undefined;\n\n        if (correct) {\n          blue_apron.gameLogic.updatePoints(10);\n        } else {\n          blue_apron.gameLogic.updatePoints(-5);\n        }\n\n        if (blue_apron.gameLogic.getGameState() <= 0) {\n          blue_apron.gameLogic.gameOver();\n        }\n      },\n      startGame: function startGame(element) {\n        var $startButton = blue_apron.gameLogic.startButton || $(element);\n        var $resetButton = blue_apron.gameLogic.resetButton || $('#resetGame');\n        var $timer = blue_apron.gameLogic.timer || $('#timer');\n        var $points = blue_apron.gameLogic.points || $('#points');\n        var $recipeNames = $('#recipe-names');\n\n        blue_apron.data.recipes.forEach(function (recipe) {\n          $recipeNames.append(blue_apron.data_parser.buildRecipe(recipe.recipe.title, recipe.recipe.sub_title), recipe.product_id);\n        });\n\n        var recipeBoxes = $('.recipe-box');\n        var recipeCount = recipeBoxes.length;\n\n        blue_apron.data_parser.makeDraggable(recipeBoxes);\n        blue_apron.gameLogic.saveDomElements($points, $timer, $startButton, $resetButton, recipeCount);\n        blue_apron.gameLogic.initClock();\n\n        $startButton.addClass('hide');\n        $resetButton.removeClass('hide');\n      },\n      resetGame: function resetGame(element) {\n        var $startGame = blue_apron.gameLogic.startButton || $('#startGame');\n        var $resetButton = blue_apron.gameLogic.resetButton || $('#resetGame');\n        var $timer = blue_apron.gameLogic.timer || $('#timer');\n        var $points = blue_apron.gameLogic.points || $('#points');\n\n        clearInterval(blue_apron.gameLogic.interval);\n        $points.text('0');\n        $timer.text('2:00');\n        $resetButton.addClass('hide');\n        $startGame.removeClass('hide');\n\n        blue_apron.gameLogic.clearGameBoard();\n      },\n      tick: function tick(end) {\n        var timeToGo = end - Date.now();\n        var sec = Math.floor(timeToGo / 1000 % 60);\n        var min = Math.floor(timeToGo / 1000 / 60 % 60);\n        sec = sec < 10 ? '0' + sec : sec;\n        return {\n          totalTime: timeToGo,\n          sec: sec,\n          min: min\n        };\n      },\n      saveDomElements: function saveDomElements(points, timer, startButton, resetButton, recipeCount) {\n        blue_apron.gameLogic.points = points;\n        blue_apron.gameLogic.timer = timer;\n        blue_apron.gameLogic.startButton = startButton;\n        blue_apron.gameLogic.resetButton = resetButton;\n        blue_apron.gameLogic.recipesLeft = recipeCount;\n      },\n      initClock: function initClock() {\n        var end = Date.now() + 120000;\n        blue_apron.gameLogic.interval = setInterval(function () {\n          var time = blue_apron.gameLogic.tick(end);\n          blue_apron.gameLogic.timer.text(time.min + ':' + time.sec);\n          if (time.totalTime <= 0) {\n            clearInterval(blue_apron.gameLogic.interval);\n            blue_apron.gameLogic.gameOver();\n          }\n        }, 800);\n      },\n      updatePoints: function updatePoints(num) {\n        var $points = blue_apron.gameLogic.points || $('#points');\n        $points.text(Number($points.text()) + num);\n      },\n      gameOver: function gameOver() {\n        clearInterval(blue_apron.gameLogic.interval);\n        blue_apron.modal.showModal('You scored: ' + blue_apron.gameLogic.points.text() + ' points.');\n      },\n      getGameState: function getGameState() {\n        return blue_apron.gameLogic.recipesLeft;\n      },\n      clearGameBoard: function clearGameBoard() {\n        var checkAndX = $('.check-or-x');\n        var photoDiv = $('div.recipe-box.answer');\n        $('#recipe-names').empty();\n        for (var i = 0; i < photoDiv.length; i++) {\n          $(photoDiv[i]).remove();\n        }\n        for (var i = 0; i < checkAndX.length; i++) {\n          $(checkAndX[i]).remove();\n        }\n      },\n      buildGameBoard: function buildGameBoard() {\n        var $recipeNames = $('#recipe-names');\n        blue_apron.data.recipes.forEach(function (recipe) {\n          $recipeNames.append(blue_apron.data_parser.buildRecipe(recipe.recipe.title, recipe.recipe.sub_title), recipe.product_id);\n        });\n      }\n    };\n  }();\n})(jQuery, window._blue_apron = window._blue_apron || {}, window, document);"]}